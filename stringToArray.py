import numpy as np
# import matplotlib.pyplot as plt
# import matplotlib.pyplot as plt
# import matplotlib.image as mpimg
import cv2
import tools
import base64

save_path = 'C:\\Users\\Juan Graciano\\Desktop'

# string = '\x89PNG\r\n\x1a\n\x00\x00\x00\rIHDR\x00\x00\x05\x00\x00\x00\x03\xc0\x08\x02\x00\x00\x00\xe5\xbeC.\x00\x00\x00\x03sBIT\x05\x06\x053\x0b\x8d\x80\x00\x00 \x00IDATx\x01\xec\xbdK\x8b&I\x96\xa6i\t\x1e`\x06\x11`\x06\x99\x10\xbe\xac\xd9U\xad\xba\x8a\x19\x98*zU\xd0\x9b'
# string = ''
string = b"\x89PNG\r\n\x1a\n\x00\x00\x00\rIHDR\x00\x00\x01\x90\x00\x00\x01\x90\x08\x02\x00\x00\x00\x0f\xdd\xa1\x9b\x00\x00\x00\x03sBIT\x05\x06\x053\x0b\x8d\x80\x00\x00\r\xadIDATx\x01\xed\xd81\x8a\x03A\x14C\xc1\xede\xef\x7f\xe56f\xc1\x99\x15\xbf\x81r4X\x89\xa8o\xc4\xe0s\xef\xfd\xf1!@\x80\xc0\x13\x04~\x9fPRG\x02\x04\x08\xbc\x05\x0c\x96\xdf\x01\x01\x02\x8f\x11\xf8\xfb4=\xe7|\x9e=\x10 @ %\xf0\xff\xe7\x957\xac\xd4Q\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %`\xb0R\xe7P\x86\x00\x81%`\xb0\x96\x8e\x8c\x00\x81\x94\x80\xc1J\x9dC\x19\x02\x04\x96\x80\xc1Z:2\x02\x04R\x02\x06+u\x0ee\x08\x10X\x02\x06k\xe9\xc8\x08\x10H\t\x18\xac\xd49\x94!@`\t\x18\xac\xa5##@ %p\xee\xbd\xa9B\xca\x10 @\xe0\x9b\x807\xaco2\xbe'@ '\xf0\x02hK\x0c\x1b<2%l\x00\x00\x00\x00IEND\xaeB`\x82"

#####################################################################
# Se necesita el tipo de dato y las dimensiones de la matrix
#####################################################################

imageAdr = "C:\\Users\\Juan Graciano\\Desktop\\Nati videos\\juan\\numero2\\cropV3\\0\\0-25-Tapecrop-cropV2-cropV3.png"

img = cv2.imread(imageAdr)
img = img.astype('float64')

t = np.arange(25.0, dtype=np.float64)

s = base64.b64encode(img)

r = base64.decodestring(s)

q = np.fromstring(r, dtype=np.float64)

f = q.reshape(img.shape[0],img.shape[1], 3)

print("original", img.shape)
print("original again", f.shape)

tools.saveImage('p5', f.copy(), save_path, 'prueba', 'send')




